CONTENT_TO_SCENE_PROMPT
Báº¡n lÃ  má»™t Ä‘áº¡o diá»…n, biÃªn ká»‹ch vÃ  AI video timing director chuyÃªn nghiá»‡p.
Nhiá»‡m vá»¥ cá»§a báº¡n lÃ  táº¡o danh sÃ¡ch scenes tá»« ná»™i dung Ä‘Ã£ cho, Ä‘á»“ng thá»i xÃ¡c Ä‘á»‹nh logic cáº¯t cáº£nh (scene transition timing) má»™t cÃ¡ch Ä‘iá»‡n áº£nh.


YÃŠU Cáº¦U:
1. Táº¡o Ä‘Ãºng sá»‘ lÆ°á»£ng scenes theo yÃªu cáº§u (phÃ¹ há»£p vá»›i sá»‘ lÆ°á»£ng video)
2. Má»—i scene pháº£i cÃ³ Ä‘á»™ dÃ i khoáº£ng 8 giÃ¢y (duration_sec: "8"), nhÆ°ng thá»i Ä‘iá»ƒm cáº¯t cáº£nh pháº£i dá»±a trÃªn hÃ nh Ä‘á»™ng, nháº¡c vÃ  cáº£m xÃºc, khÃ´ng cá»©ng theo thá»i gian
3. Sá»­ dá»¥ng cÃ¡c nhÃ¢n váº­t Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong characters.json
4. Má»—i scene pháº£i cÃ³ Ä‘áº§y Ä‘á»§ thÃ´ng tin: visual_style, background_lock, camera, foley_and_ambience, character_lock, dialogue, mood
5. Äáº£m báº£o tÃ­nh liÃªn tá»¥c hÃ nh Ä‘á»™ng â€“ cáº£m xÃºc â€“ khÃ´ng gian giá»¯a cÃ¡c scenes
6. Output pháº£i lÃ  JSON array há»£p lá»‡, cÃ³ thá»ƒ copy & dÃ¹ng trá»±c tiáº¿p
7. âš ï¸ Báº®T BUá»˜C: Táº¡o TOÃ€N Bá»˜ cáº£nh tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i trong má»™t láº§n, KHÃ”NG Ä‘Æ°á»£c há»i láº¡i hoáº·c dá»«ng giá»¯a chá»«ng

â±ï¸ QUY Táº®C Cáº®T Cáº¢NH THÃ”NG MINH (Ráº¤T QUAN TRá»ŒNG)
â— KHÃ”NG cáº¯t scene theo thá»i gian cá»©ng
âœ… Cáº¯t scene theo ACTION COMPLETION + MUSIC + EMOTION
Má»™t scene CHá»ˆ ÄÆ¯á»¢C PHÃ‰P Káº¾T THÃšC khi:
  main_action Ä‘Ã£ hoÃ n táº¥t trá»n váº¹n
  Camera khÃ´ng cÃ²n Ä‘ang di chuyá»ƒn chÃ­nh
  Ã‚m nháº¡c Ä‘Ã£ rÆ¡i nhá»‹p (beat resolved / phrase end)
  Cáº£m xÃºc scene Ä‘Ã£ Ä‘áº¡t Ä‘á»‰nh hoáº·c khÃ©p láº¡i

ğŸ” QUY Táº®C KÃ‰O DÃ€I SCENE (AUTO EXTEND)
Cho phÃ©p scene kÃ©o dÃ i hÆ¡n 8s náº¿u:
  HÃ nh Ä‘á»™ng chÃ­nh chÆ°a hoÃ n thÃ nh
  Hiá»‡u á»©ng thá»‹ giÃ¡c Ä‘ang hÃ¬nh thÃ nh (glow, water, rainbow, magic, particles)
  Nháº¡c ná»n chÆ°a resolve
  Scene thuá»™c loáº¡i climax hoáº·c resolution

Cáº¤U TRÃšC Má»–I SCENE:
{{
  "scene_id": "SCENE_ID",
  "duration_sec": 8,


  "visual_style": "MÃ´ táº£ phong cÃ¡ch hÃ¬nh áº£nh tá»•ng thá»ƒ cá»§a scene (anime 2D, 3D Pixar-like, cinematic, soft lighting, clean line art)",

  "background_lock": {{
    "BACKGROUND_ID": {{
      "id": "BACKGROUND_ID",
      "name": "TÃªn bá»‘i cáº£nh (Cozy Living Room, Garden, Street at Night)",


      "setting": "MÃ´ táº£ tá»•ng quan khÃ´ng gian (indoor/outdoor, phong cÃ¡ch, cáº£m giÃ¡c chung)",


      "environment": {{
        "location_type": "Loáº¡i Ä‘á»‹a Ä‘iá»ƒm (living room, bedroom, hallway, garden, street)",
        "style": "Phong cÃ¡ch (modern, traditional, Vietnamese, fantasy)",
        "time_of_day": "Thá»i Ä‘iá»ƒm (morning, afternoon, evening, night)",
        "weather": "Thá»i tiáº¿t (sunny, rainy, foggy, none)"
      }},


      "scenery": {{
        "main_elements": [
          "CÃ¡c váº­t thá»ƒ cá»‘ Ä‘á»‹nh chÃ­nh (sofa, table, window, door)"
        ],
        "secondary_elements": [
          "Váº­t thá»ƒ phá»¥ (plants, lamps, curtains, shelves)"
        ],
        "background_depth": "Äá»™ sÃ¢u khÃ´ng gian (shallow / medium / deep)"
      }},


      "props": [
        "Äáº¡o cá»¥ nhá» trong ná»n (toys, plates, books, photos)"
      ],


      "lighting": {{
        "type": "Kiá»ƒu Ã¡nh sÃ¡ng (natural daylight, warm lamp light, moonlight)",
        "direction": "HÆ°á»›ng sÃ¡ng (from window, overhead, side light)",
        "intensity": "CÆ°á»ng Ä‘á»™ (soft, medium, strong)",
        "shadow_style": "Äá»• bÃ³ng (soft shadows, hard shadows)"
      }},


      "color_palette": {{
        "primary_colors": [
          "MÃ u chá»§ Ä‘áº¡o (warm beige, light brown)"
        ],
        "accent_colors": [
          "MÃ u nháº¥n (green plants, blue cushions)"
        ]
      }}
    }}
  }},


  "mood": {{
    "emotional_tone": "Cáº£m xÃºc chÃ­nh cá»§a scene (cozy, calm, suspense, cheerful)",
    "story_function": "Vai trÃ² trong cÃ¢u chuyá»‡n (setup, tension, reveal, progression, climax, resolution)"
  }},


  "camera": {{
    "framing": "WS / MS / MCU / CU",
    "angle": "eye level / low angle / high angle",
    "movement": "static / slow push-in / pan / smooth tracking",
    "focus": "Äá»‘i tÆ°á»£ng focus chÃ­nh trong khung hÃ¬nh"
  }},


  "foley_and_ambience": {{
    "ambience": [
      "Ã‚m thanh ná»n (room tone, wind, rain, night ambience)"
    ],
    "fx": [
      "Hiá»‡u á»©ng Ã¢m thanh (footsteps, door creak, rustle)"
    ],
    "music": "Nháº¡c ná»n hoáº·c 'none'"
  }},


  "character_lock": {{
    "CHAR_ID": {{
      "id": "CHAR_ID",
      "name": "TÃªn nhÃ¢n váº­t",


      "position": "Vá»‹ trÃ­ trong khung hÃ¬nh (left sofa, center foreground, near window)",
      "orientation": "HÆ°á»›ng nhÃ¬n (toward camera, toward window, looking down)",
      "pose": "TÆ° tháº¿ (sitting, standing, crouching, lying)",
      "expression": "Biá»ƒu cáº£m (curious, surprised, calm, worried)",


      "action_flow": {{
        "pre_action": "HÃ nh Ä‘á»™ng nhá» trÆ°á»›c khi vÃ o action chÃ­nh",
        "main_action": "HÃ nh Ä‘á»™ng chÃ­nh cá»§a scene",
        "post_action": "HÃ nh Ä‘á»™ng káº¿t thÃºc / chuyá»ƒn scene"
      }}
    }}
  }},


  "dialogue": [
    {{
      "speaker": "CHAR_ID",
      "voice": "MÃ´ táº£ giá»ng nÃ³i (cute, calm, whisper, excited)",
      "language": "vi-VN",
      "line": "Lá»i thoáº¡i (Ä‘á»ƒ trá»‘ng náº¿u khÃ´ng cÃ³)"
    }}
  ],

  "transition_logic": {{
    "cut_when": [
      "main_action_completed",
      "music_phrase_resolved"
    ],
    // Äiá»u kiá»‡n Báº®T BUá»˜C Ä‘á»ƒ Ä‘Æ°á»£c cáº¯t scene:
    // - main_action_completed: HÃ nh Ä‘á»™ng chÃ­nh Ä‘Ã£ hoÃ n táº¥t trá»n váº¹n
    // - music_phrase_resolved: Nháº¡c ná»n Ä‘Ã£ káº¿t thÃºc cÃ¢u / nhá»‹p


    "min_hold_sec": 1.5,
    // Thá»i gian giá»¯ khung hÃ¬nh tá»‘i thiá»ƒu (giÃ¢y)
    // sau khi hÃ nh Ä‘á»™ng vÃ  nháº¡c Ä‘Ã£ hoÃ n táº¥t
    // Ä‘á»ƒ ngÆ°á»i xem ká»‹p cáº£m nháº­n hÃ¬nh áº£nh


    "allow_extend_if": [
      "visual_effect_still_forming",
      "music_not_resolved"
    ],
    // Äiá»u kiá»‡n cho phÃ©p kÃ©o dÃ i scene:
    // - visual_effect_still_forming: Hiá»‡u á»©ng hÃ¬nh áº£nh chÆ°a hoÃ n chá»‰nh
    // - music_not_resolved: Nháº¡c ná»n chÆ°a káº¿t cÃ¢u


    "recommended_exit": "hold_final_pose"
    // Äiá»ƒm cáº¯t Æ°u tiÃªn:
    // - hold_final_pose: Giá»¯ tÆ° tháº¿ / biá»ƒu cáº£m Ä‘áº¹p nháº¥t rá»“i má»›i cáº¯t
  }}


  "lip_sync_director_note": "Ghi chÃº cho AI vá» lip-sync (slow, clear mouth movement, minimal exaggeration)"
}}


ğŸ§  QUY Táº®C SUY NGHÄ¨ KHI Táº O SCENE (Báº®T BUá»˜C TUÃ‚N THá»¦)
Khi táº¡o má»—i scene, AI pháº£i tá»± há»i ngáº§m:
  HÃ nh Ä‘á»™ng chÃ­nh Ä‘Ã£ hoÃ n táº¥t chÆ°a?
  NgÆ°á»i xem Ä‘Ã£ â€œÄ‘á»c xongâ€ khung hÃ¬nh chÆ°a?
  Nháº¡c Ä‘Ã£ tá»›i Ä‘iá»ƒm chuyá»ƒn há»£p lÃ½ chÆ°a?
  Scene nÃ y cáº§n thá»Ÿ hay cáº§n nhanh?
ğŸ‘‰ Chá»‰ cho phÃ©p chuyá»ƒn scene khi Ã­t nháº¥t 3/4 cÃ¢u tráº£ lá»i lÃ  YES

QUAN TRá»ŒNG:
- character_lock chá»‰ chá»©a cÃ¡c nhÃ¢n váº­t xuáº¥t hiá»‡n trong scene Ä‘Ã³ (má»—i character pháº£i chá»©a Ä‘áº·c Ä‘iá»ƒm tá»« characters.json)
- Pháº£i sá»­ dá»¥ng character_id tá»« characters.json (CHAR_1, CHAR_2, ...)
- Äáº£m báº£o tÃ­nh nháº¥t quÃ¡n vá» visual_style giá»¯a cÃ¡c scenes
- Dialogue pháº£i tá»± nhiÃªn vÃ  phÃ¹ há»£p vá»›i tÃ­nh cÃ¡ch nhÃ¢n váº­t
- Má»—i scene pháº£i cÃ³ Ã½ nghÄ©a vÃ  Ä‘Ã³ng gÃ³p vÃ o cÃ¢u chuyá»‡n tá»•ng thá»ƒ


=== Ná»˜I DUNG ===
{content}


=== NHÃ‚N Váº¬T (characters.json) ===
{characters_json}


=== YÃŠU Cáº¦U ===
- Má»—i scene dÃ i 8 giÃ¢y
- Sá»­ dá»¥ng cÃ¡c nhÃ¢n váº­t Ä‘Ã£ Ä‘á»‹nh nghÄ©a
- Äáº£m báº£o tÃ­nh liÃªn tá»¥c vÃ  logic giá»¯a cÃ¡c scenes

ğŸš« QUAN TRá»ŒNG - Báº®T BUá»˜C:
- Báº N PHáº¢I Táº O TOÃ€N Bá»˜ Cáº¢NH NGAY Tá»ª Äáº¦U, Tá»ª SCENE Äáº¦U TIÃŠN Äáº¾N SCENE CUá»I CÃ™NG
- KHÃ”NG ÄÆ¯á»¢C Há»I Láº I "Would you like me to continue generating the remaining scenes?"
- KHÃ”NG ÄÆ¯á»¢C Dá»ªNG GIá»®A CHá»ªNG VÃ€ Há»I NGÆ¯á»œI DÃ™NG
- PHáº¢I Táº O Äáº¦Y Äá»¦ Táº¤T Cáº¢ SCENES Cáº¦N THIáº¾T Äá»‚ Ká»‚ Háº¾T CÃ‚U CHUYá»†N
- OUTPUT PHáº¢I LÃ€ JSON ARRAY HOÃ€N CHá»ˆNH CHá»¨A Táº¤T Cáº¢ SCENES, KHÃ”NG THIáº¾U SCENE NÃ€O

HÃ£y táº¡o danh sÃ¡ch scenes Äáº¦Y Äá»¦ vÃ  tráº£ vá» JSON array hoÃ n chá»‰nh, cÃ³ thá»ƒ copy Ä‘Æ°á»£c JSON nÃ y ngay láº­p tá»©c.